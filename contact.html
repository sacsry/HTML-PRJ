<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contacts</title>
    <link rel="stylesheet" href="./CSS/header.css">
    <link rel="stylesheet" href="./CSS/footer.css">
    <style>
        .contact{
            width:500px;
            margin:0px auto;
        }
        .contact input:not([type=submit]){
            width:300px;
            height:30px;
            border:1px solid white;
        }
        .contact label{
            width: 80px;
            float: left;
        }
        .contents{
            margin:10px;
        }
        input[type=submit]{
            width: 300px;
            height: 30px;
            margin:10px auto;
            border-radius: 8px;
            display: block;
        }
        input[type="submit"]:hover{
            background-color: black;
            color:white;
            border:1px solid gray;
        }
        
    </style>
</head>
<body>
    <header id="header">
    <nav id="nav">
        <div id="topmenu">
            <table>
                <td class="logo">
                    <div id="logo" width="100px">
                        <a href="home.html">Blog</a>
                        <input type="button" name="메뉴" id="메뉴" value="Menu">
                    </div>
                </td>
                <td class=" sidebar">
                    <ul id="list">
                        <li><a href = "home.html">Home</a></li>
                        <li><a href = "about.html">About</a></li>
                        <li><a href = "posts.html">Posts</a></li>
                        <li><a href = "contact.html">Join</a></li>
                        <li><a href = "logins.html">Logins</a></li>
                    </ul>
                </td>
            </table>
        </div>
    </nav>
    <div class="title">
        <h1 id="MainTitle">Join</h1>
        <h2 id="SubTitle">Sub title</h2>
    </div>
    </header>
    <main class="main">
        <div>
            <form action="" class="contact">
                <fieldset>
                    <p style="text-align: center; margin: 20px; font-size: 25px; font-weight: bold;">회원정보를 입력해주세요</p>
                    <div class="contents">
                        <label for="name">아이디</label>
                        <input type="text" id ="name" name="name" maxlength="20" placeholder="Name" autofocus required/>
                        <button id="idconfirm">중복 확인</button>
                        <div id ="iderr"></div>
                    </div>
                    <hr>
                    <div class="contents">
                        <label for="password">비밀번호</label>
                        <input type="password" id ="password" name="password" maxlength="30" placeholder="Password" required>
                        <div id ="pwderr"></div>
                    </div>
                    <hr>
                    <div class="contents">
                        <label for="email">이메일</label>
                        <input type="email" id ="email" name="email" maxlength="30" placeholder="Email Address" required>
                        <button id="emailconfirm">중복 확인</button>
                        <div id ="emailerr"></div>
                    </div>
                    <hr>
                    <div class="contents">
                        <label for="tel">연락처</label>
                        <input type="tel" id ="phone" name="phone" maxlength="11" placeholder="Phone Number" required>
                        <button id="phoneconfirm">인증</button>
                        <div id ="phoneerr"></div>
                    </div>
                    <hr>
                    <div class="contents">
                        <textarea name="Message" id="Message" cols="50" rows="20" placeholder="Message" required ></textarea>
                    </div>
                    <hr>
                    <div class="submitbtn">
                        <input type="submit" value="Next">
                    </div>
                    
                </fieldset>
                <hr>
            </form>
        </div>
    </main>
    <footer>
        <nav id="footer">
                <div id="footerLink">
                    <ul>
                        <li><a href=""><img src="./IMG/이메일 로고.png" alt="메일"></a></li>
                        <li><a href="https://twitter.com/?lang=ko"><img src="./IMG/트위터 로고.png" alt="트위터 로고"></a></li>
                        <li><a href="https://www.facebook.com/"><img src="./IMG/페북 로고.png" alt=""></a></li>
                        <li><a href="https://github.com/"><img src="./IMG/깃허브 로고.png" alt=""></a></li>
                    </ul>
                </div>
                
                <div id="footerSource">
                    <p>copyright © Bootstrap 2023</p>
                </div>
        </nav>
    </footer>
    <script src="js/header.js"></script>
    <script>
        let iderr = document.querySelector("#iderr");
        let pwderr = document.querySelector('#pwderr');
        let emailerr = document.querySelector('#emailerr');
        let id = document.querySelector('#name');
        let pwd = document.querySelector('#password');
        let email = document.querySelector('#email');
        let submit = document.querySelector(".submitbtn");

        
        let idconfirmbtn = document.querySelector("#idconfirm");
        let emailconfirmbtn = document.querySelector("#emailconfirm");
        let phoneconfirmbtn = document.querySelector("#phoneconfirm");


        let idconfirm = false;
        let emailconfirm = false;
        let phoneconfirm = false;
        let pwdconfirm = false;
        submit.addEventListener('click',() =>{
            if(idconfirm == false){
                alert("아이디 중복확인");
                event.preventDefault();
            }
            else if(emailconfirm == false){
                alert("이메일 중복확인");
                event.preventDefault();
            }
            else if(phoneconfirm == false){
                alert("폰좀 사라");
                event.preventDefault();
            }
            else if(pwdconfirm == false){
                alert("빨간 글씨가 안보이니?");
                event.preventDefault();
            }
        });

        id.addEventListener('change' ,()=>{
            idconfirm = false;
            if(id.value.length<8 || id.value.length>12){
                iderr.innerHTML = "<strong>&nbsp;&nbsp;&nbsp;8글자~12글자이내로 작성해주세요</strong>"
                iderr.style.color = "red";
                idconfirmbtn.disabled = true;
            }
            else{
                iderr.innerHTML = "";
                idconfirmbtn.disabled = false;
            }
        });
        email.addEventListener('change' ,()=>{
            emailconfirm = false;
            if(!email.value.includes("@") || !email.value.includes(".")){
                emailerr.innerHTML ="<strong>&nbsp;&nbsp;&nbsp; @나 .을 포함해서 작성하세요."
                emailerr.style.color = "red";
                emailconfirmbtn.disabled = true;
            }
            else if(email.value.includes("@") && email.value.includes(".")){
                emailerr.innerHTML =""
                emailconfirmbtn.disabled = false;
            }
            console.log(email.value.includes("@") && email.value.includes("."));
        });
        pwd.addEventListener('change', () =>{
            if(pwd.value.length<8 || pwd.value.length>12){
                pwderr.innerHTML = "<strong>&nbsp;&nbsp;&nbsp;8글자~12글자이내 영어대문자/소문자/특수문자 하나씩넣어서 작성해주세요</strong>"                
                pwderr.style.color = "red";
                pwdconfirm = false;
            }
            else{
                pwderr.innerHTML = "";
                pwdconfirm = true;
            }
        });
        phone.addEventListener('change' ,()=>{
            phoneconfirm = false;
        });

        

        
        idconfirmbtn.addEventListener('click',()=>{
            if(id.value !== "id" && id.value != ""){
                alert("사용할 수 있는 아이디입니다.");
                idconfirm = true;
            }
            else{
                alert("사용할 수 없는 아이디입니다.");
                idconfirm = false;
            }
        });
        emailconfirmbtn.addEventListener('click',()=>{
            if(email.value !== "email" && email.value != ""){
                alert("사용할 수 있는 이메일입니다.");
                emailconfirm = true;
            }
            else{
                alert("사용할 수 없는 이메일입니다.");
                emailconfirm = false;
            }
        });

        phoneconfirmbtn.addEventListener('click',()=>{
            if(phone.value !== "phone" && phone.value != ""){
                alert("인증되었습니다.");
                phoneconfirm = true;
            }
            else{
                alert("인증 실패");
                phoneconfirm= false;
            }
        });
        
    </script>
</body>
</html>